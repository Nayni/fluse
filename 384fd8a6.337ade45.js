(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{64:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return o})),n.d(t,"metadata",(function(){return s})),n.d(t,"rightToc",(function(){return c})),n.d(t,"default",(function(){return l}));var r=n(2),a=n(6),i=(n(0),n(83)),o={id:"supplying-arguments",title:"Supplying arguments",sidebar_label:"Supplying arguments"},s={unversionedId:"supplying-arguments",id:"supplying-arguments",isDocsHomePage:!1,title:"Supplying arguments",description:"Fixture definitions can optionally receive arguments. If you'd like to use arguments for your definition you have to explicitly type them.",source:"@site/docs\\supplying-arguments.md",slug:"/supplying-arguments",permalink:"/fluse/docs/supplying-arguments",editUrl:"https://github.com/Nayni/fluse/edit/master/website/docs/supplying-arguments.md",version:"current",sidebar_label:"Supplying arguments",sidebar:"docs",previous:{title:"Execute",permalink:"/fluse/docs/execute"},next:{title:"Lists",permalink:"/fluse/docs/making-lists"}},c=[],u={rightToc:c};function l(e){var t=e.components,n=Object(a.a)(e,["components"]);return Object(i.b)("wrapper",Object(r.a)({},u,n,{components:t,mdxType:"MDXLayout"}),Object(i.b)("p",null,"Fixture definitions can optionally receive arguments. If you'd like to use arguments for your definition you have to explicitly type them."),Object(i.b)("p",null,"Arguments will be available by accessing the second argument of the ",Object(i.b)("inlineCode",{parentName:"p"},"create")," function you must implement."),Object(i.b)("pre",null,Object(i.b)("code",Object(r.a)({parentName:"pre"},{className:"language-typescript"}),"interface PostArgs {\n  author: User;\n}\n\nexport const postFixture = fixture<Post, PostArgs>({\n  create(context, args) {\n    const post = new Post({\n      title: context.faker.lorem.slug(),\n      body: context.faker.lorem.paragraphs(4),\n      author: args.author,\n    });\n\n    return post;\n  },\n});\n")),Object(i.b)("p",null,"Once you have defined your arguments you'll be required to supply them when executing the fixture."),Object(i.b)("pre",null,Object(i.b)("code",Object(r.a)({parentName:"pre"},{className:"language-typescript"}),'it("should require arguments to create a post", async () => {\n  const { myPost } = await execute(\n    postFixture("myPost", { args: { author: new User({ username: "bob" }) } })\n  );\n});\n')),Object(i.b)("p",null,"In the above example we are required to supply the ",Object(i.b)("inlineCode",{parentName:"p"},"args")," key with the typed arguments from the ",Object(i.b)("inlineCode",{parentName:"p"},"postFixture"),"."),Object(i.b)("p",null,"While creating an inline entity is perfectly valid. Fluse also supports nesting fixtures. If we had a fixture definition for creating a user we could re-write the above to:"),Object(i.b)("pre",null,Object(i.b)("code",Object(r.a)({parentName:"pre"},{className:"language-typescript"}),'it("should be possible to nest", async () => {\n  const { myPost } = await execute(\n    postFixture("myPost", { args: { author: userFixture.asArg() } })\n  );\n});\n')),Object(i.b)("p",null,"Every fixture definition created with Fluse also has a static method ",Object(i.b)("inlineCode",{parentName:"p"},"asArg")," which can be used to nest fixtures. This allows you to create deeply nested structures easily without having to manually execute and wait for the result yourself."),Object(i.b)("p",null,"In case the nested fixture requires arguments the ",Object(i.b)("inlineCode",{parentName:"p"},"asArg")," method will accept ",Object(i.b)("inlineCode",{parentName:"p"},"args")," just like a regular fixture."),Object(i.b)("div",{className:"admonition admonition-note alert alert--secondary"},Object(i.b)("div",Object(r.a)({parentName:"div"},{className:"admonition-heading"}),Object(i.b)("h5",{parentName:"div"},Object(i.b)("span",Object(r.a)({parentName:"h5"},{className:"admonition-icon"}),Object(i.b)("svg",Object(r.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),Object(i.b)("path",Object(r.a)({parentName:"svg"},{fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"})))),"note")),Object(i.b)("div",Object(r.a)({parentName:"div"},{className:"admonition-content"}),Object(i.b)("p",{parentName:"div"},"Note that when using ",Object(i.b)("inlineCode",{parentName:"p"},"asArg()")," the ",Object(i.b)("inlineCode",{parentName:"p"},"name")," property is not required. Fluse will internally just consume the fixture annonymously and wait for the result."))))}l.isMDXComponent=!0},83:function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return d}));var r=n(0),a=n.n(r);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var u=a.a.createContext({}),l=function(e){var t=a.a.useContext(u),n=t;return e&&(n="function"==typeof e?e(t):s(s({},t),e)),n},p=function(e){var t=l(e.components);return a.a.createElement(u.Provider,{value:t},e.children)},b={inlineCode:"code",wrapper:function(e){var t=e.children;return a.a.createElement(a.a.Fragment,{},t)}},m=a.a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,i=e.originalType,o=e.parentName,u=c(e,["components","mdxType","originalType","parentName"]),p=l(n),m=r,d=p["".concat(o,".").concat(m)]||p[m]||b[m]||i;return n?a.a.createElement(d,s(s({ref:t},u),{},{components:n})):a.a.createElement(d,s({ref:t},u))}));function d(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=n.length,o=new Array(i);o[0]=m;var s={};for(var c in t)hasOwnProperty.call(t,c)&&(s[c]=t[c]);s.originalType=e,s.mdxType="string"==typeof e?e:r,o[1]=s;for(var u=2;u<i;u++)o[u]=n[u];return a.a.createElement.apply(null,o)}return a.a.createElement.apply(null,n)}m.displayName="MDXCreateElement"}}]);