---
id: quickstart
title: Quickstart
sidebar_label: Quickstart
---

import Tabs from "@theme/Tabs";
import TabItem from "@theme/TabItem";

### 1. Install `Fluse`

<Tabs
  defaultValue="yarn"
  values={[
    { label: 'yarn', value: 'yarn', },
    { label: 'npm', value: 'npm', },
  ]
}>


<TabItem value="npm">


```bash
npm install fluse --save-dev
```

</TabItem>
<TabItem value="yarn">


```bash
yarn add -D fluse
```

</TabItem>


</Tabs>


### 2. Define your fixtures

```typescript
import { fixture } from "fluse";
import { User } from "./entities/User";

type UserFixtureArgs = {
  username: string;
};

export const userFixture = fixture({
  create(ctx, args: UserFixtureArgs) {
    const user = new User({ username: args.username });
    return user;
  },
});
```

```typescript
import { fixture } from "fluse";
import { Post } from "./entities/Post";

type PostFixtureArgs = {
  author: User;
};

export const postFixture = fixture({
  create(ctx, args: PostFixtureArgs, info) {
    const post = new Post({
      title: `post ${info.list.index}`,
      author: args.author,
    });
    return post;
  },
});
```

### 3. Supercharge your tests by combining them together

```typescript
import { createExecutor, combine } from "fluse";
import { userFixture } from "./fixtures/userFixture";
import { postFixture } from "./fixtures/postFixture";
import findMostPopularPost from "./findMostPopularPost";

const execute = createExecutor();

const aliceWithPosts = combine()
  .and(userFixture("alice"))
  .and(({ alice }) =>
    postFixture("alicesPosts", { list: 10, args: { author: alice } })
  )
  .toFixture();

it("should find the most popular post", async () => {
  const { alice, alicesPosts } = await execute(aliceWithPosts);
  const mostPopular = findMostPopularPost(alicesPosts);

  expect(mostPopular).toBeDefined();
  expect(mostPopular.author).toBe(alice);
});
```
