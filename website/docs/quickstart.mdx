---
id: quickstart
title: Quickstart
sidebar_label: Quickstart
---

import Tabs from "@theme/Tabs";
import TabItem from "@theme/TabItem";

### 1. Install `Fluse`

<Tabs
  defaultValue="yarn"
  values={[
    { label: 'yarn', value: 'yarn', },
    { label: 'npm', value: 'npm', },
  ]
}>


<TabItem value="npm">


```bash
npm install fluse --save-dev
```

</TabItem>
<TabItem value="yarn">


```bash
yarn add -D fluse
```

</TabItem>


</Tabs>


### 2. Define your fixtures

```typescript
import { fixture } from "fluse";
import { User } from "./entities/User";

type UserFixtureArgs = {
  username: string;
};

export const userFixture = fixture({
  create(ctx, args: UserFixtureArgs) {
    const user = new User({ username: args.username });
    return user;
  },
});
```

```typescript
import { fixture } from "fluse";
import { Post } from "./entities/Post";

type PostFixtureArgs = {
  author: User;
};

export const postFixture = fixture({
  create(ctx, args: PostFixtureArgs, { index }) {
    const post = new Post({
      title: `post ${index}`,
      author: args.author,
    });
    return post;
  },
});
```

### 3. Supercharge your tests by combining them together

```typescript
import { createExecutor, combine } from "fluse";
import { userFixture } from "./fixtures/userFixture";
import { postFixture } from "./fixtures/postFixture";
import findMostPopularPost from "./findMostPopularPost";

const execute = createExecutor();

const userWithPostsFixture = combine()
  .and(userFixture("foo"))
  .and(({ foo }) =>
    postFixture({ name: "fooPosts", list: 10 }, { author: foo })
  )
  .toFixture();

it("should find the most popular post", async () => {
  const { foo, fooPosts } = await execute(userWithPostsFixture);
  const mostPopular = findMostPopularPost(foo, fooPosts);

  expect(mostPopular).toBeDefined();
});
```
