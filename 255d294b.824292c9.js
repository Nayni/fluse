(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{78:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return o})),n.d(t,"metadata",(function(){return s})),n.d(t,"toc",(function(){return c})),n.d(t,"default",(function(){return l}));var r=n(3),a=n(7),i=(n(0),n(94)),o={id:"scenarios",title:"Scenarios",sidebar_label:"Scenarios"},s={unversionedId:"scenarios",id:"scenarios",isDocsHomePage:!1,title:"Scenarios",description:"The usage of arguments and lists will get pretty far already, but Fluse is designed to deal with more complex scenarios.",source:"@site/docs\\scenarios.md",slug:"/scenarios",permalink:"/fluse/docs/scenarios",editUrl:"https://github.com/Nayni/fluse/edit/master/website/docs/scenarios.md",version:"current",sidebar_label:"Scenarios",sidebar:"docs",previous:{title:"Lists",permalink:"/fluse/docs/lists"},next:{title:"fluse()",permalink:"/fluse/docs/api-fluse"}},c=[],u={toc:c};function l(e){var t=e.components,n=Object(a.a)(e,["components"]);return Object(i.b)("wrapper",Object(r.a)({},u,n,{components:t,mdxType:"MDXLayout"}),Object(i.b)("p",null,"The usage of ",Object(i.b)("a",{parentName:"p",href:"/fluse/docs/supplying-arguments"},"arguments")," and ",Object(i.b)("a",{parentName:"p",href:"/fluse/docs/lists"},"lists")," will get pretty far already, but Fluse is designed to deal with more complex scenarios."),Object(i.b)("p",null,"The ",Object(i.b)("inlineCode",{parentName:"p"},"scenario")," api lets you do this in a declarative way."),Object(i.b)("pre",null,Object(i.b)("code",{parentName:"pre",className:"language-typescript"},'it("should create a complex scenario", async () => {\n  const { bob, alice, bobsPosts, alicesPosts } = await scenario()\n    // with a simple fixture\n    .with("bob", userFixture())\n    .with("alice", () => userFixture())\n    // with an array of fixtures\n    .with(\n      "others",\n      ["Dave", "John"].map((username) => userFixture({ username }))\n    )\n    // with a factory fn that allows you to refer to previous values in the chain\n    .with("bobsPosts", ({ bob }) =>\n      postFixture({\n        author: bob,\n        comments: commentFixture({\n          author: userFixture(),\n        }).list(3),\n      }).list(5)\n    )\n    .with("alicesPosts", ({ alice }) =>\n      postFixture({\n        author: alice,\n        comments: commentFixture({\n          author: userFixture(),\n        }).list(3),\n      }).list(5)\n    )\n    .compose()\n    .execute();\n});\n')),Object(i.b)("p",null,"The above example shows how we create a complex scenario using just 3 fixture definitions: ",Object(i.b)("inlineCode",{parentName:"p"},"userFixture"),", ",Object(i.b)("inlineCode",{parentName:"p"},"postFixture")," and ",Object(i.b)("inlineCode",{parentName:"p"},"commentFixture"),"."),Object(i.b)("p",null,"The ",Object(i.b)("inlineCode",{parentName:"p"},"scenario")," composer is type-safe all the way through. You're able to use fixture data previously created in the chain and pass them as input to the next fixture making the possibilities almost endless."),Object(i.b)("p",null,"In cases where you are executing scenario's directly you can also skip the ",Object(i.b)("inlineCode",{parentName:"p"},"compose")," step and directly execute the scenario:"),Object(i.b)("pre",null,Object(i.b)("code",{parentName:"pre",className:"language-typescript"},'it("should execute scenario\'s directly", async () => {\n  const { bob, alice } = await scenario()\n    .with("bob", userFixture())\n    .with("alice", () => userFixture())\n    .execute();\n});\n')))}l.isMDXComponent=!0},94:function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return d}));var r=n(0),a=n.n(r);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var u=a.a.createContext({}),l=function(e){var t=a.a.useContext(u),n=t;return e&&(n="function"==typeof e?e(t):s(s({},t),e)),n},p=function(e){var t=l(e.components);return a.a.createElement(u.Provider,{value:t},e.children)},b={inlineCode:"code",wrapper:function(e){var t=e.children;return a.a.createElement(a.a.Fragment,{},t)}},m=a.a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,i=e.originalType,o=e.parentName,u=c(e,["components","mdxType","originalType","parentName"]),p=l(n),m=r,d=p["".concat(o,".").concat(m)]||p[m]||b[m]||i;return n?a.a.createElement(d,s(s({ref:t},u),{},{components:n})):a.a.createElement(d,s({ref:t},u))}));function d(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=n.length,o=new Array(i);o[0]=m;var s={};for(var c in t)hasOwnProperty.call(t,c)&&(s[c]=t[c]);s.originalType=e,s.mdxType="string"==typeof e?e:r,o[1]=s;for(var u=2;u<i;u++)o[u]=n[u];return a.a.createElement.apply(null,o)}return a.a.createElement.apply(null,n)}m.displayName="MDXCreateElement"}}]);